<!--
  This file is part of centurio.work/wiz.

  centurio.work/wiz is free software: you can redistribute it and/or modify it
  under the terms of the GNU General Public License as published by the Free
  Software Foundation, either version 3 of the License, or (at your option) any
  later version.

  centurio.work/wiz is distributed in the hope that it will be useful, but
  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for
  more details.

  You should have received a copy of the GNU General Public License along with
  centurio.work/wiz (file LICENSE in the main directory). If not, see
  <http://www.gnu.org/licenses/>.
-->

<description xmlns="http://riddl.org/ns/description/1.0" xmlns:ann="http://riddl.org/ns/annotation/1.0" xmlns:xi="http://www.w3.org/2001/XInclude" datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes">
  <message name="input">
    <parameter name="style_url" type="string"/>
    <parameter name="document_url" type="string"/>
    <parameter name="x_amount" type="string"/>
    <parameter name="y_amount" type="string"/>
    <parameter name="lang" type="string"/>
  </message>
  <message name="frame">
    <parameter name="lx" type="string"/>
    <parameter name="ly" type="string"/>
    <parameter name="x_amount" type="string"/>
    <parameter name="y_amount" type="string"/>
    <parameter name="url" type="string"/>
    <parameter name="button" type="string"/>
  </message>
  <message name="deleteframe">
    <parameter name="lx" type="string"/>
    <parameter name="ly" type="string"/>
  </message>
  <message name="ui">
    <parameter name="ui" mimetype="text/html"/>
  </message>
  <message name="callback">
    <header name="CPEE-CALLBACK" type="boolean"/>
  </message>
  <message name="url">
    <parameter name="url" mimetype="text/plain"/>
  </message>
  <message name="lang">
    <parameter name="lang" type="string"/>
  </message>
  <message name="opa">
    <parameter name="op" fixed="error"/>
    <parameter name="reason" type="string"/>
  </message>
  <message name="opb">
    <parameter name="op" fixed="result"/>
    <parameter name="value" mimetype="application/json"/>
  </message>
  <message name="json">
    <parameter name="value" mimetype="application/json"/>
  </message>
  
  <message name="string"> <!--{{{-->
    <parameter name="value" type="string"/>
  </message> <!--}}}-->

  <resource>
    <resource>
      <get out="ui"/>
      <put in='input'/>
      
      <put in='frame' out="callback"/>
      <post in='frame'/>
      <post in='deleteframe'/>
      
      
      
      
      <delete in='opa'/>
      <delete in='opb'/>
      <resource relative='sse'>
        <sse/>
      </resource>
      <resource relative="languages">
        <get out="json"/>
        <post in='lang'/>
      </resource>
      <resource relative="style.url">
        <get out="url"/>
      </resource>
      <resource relative="cpeeinstance.url">
        <get out="url"/>
      </resource>
      <resource relative="info.json">
        <get out="json"/>
      </resource>
      <resource relative="frames.json">
        <get out="json"/>
      </resource>
      <resource relative="dataelements.json">
        <get out="json"/>
        <post />
      </resource>
      
      
      <resource relative="test">
        <put in="string"/>
      </resource>
        
      
      <resource relative='handler'>
        <post />
        
        <resource relative='sse'>
          <sse/>
        </resource>
      </resource>
    </resource>
  </resource>
</description>
